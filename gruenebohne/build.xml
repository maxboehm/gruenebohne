<?xml version="1.0" encoding="utf-8"?>
<project name="Gruenebohne" default="buildinfo">

	<condition property="isWindows">
		<os family="windows" />
	</condition>
	<condition property="isLinux">
		<os family="unix" />
	</condition>
	<condition property="isMac">
		<os family="mac" />
	</condition>

	<target name="testWindows" if="isWindows">
		<echo message="Windows" />
	</target>

	<target name="testMac" if="isMac">
		<echo message="Mac" />
	</target>

	<target name="buildinfo">
		<tstamp>
			<format property="builtat" pattern="dd.MM.yyyy hh:mm aa" />
		</tstamp>

		<exec executable="whoami" outputproperty="whoami" />

		<propertyfile file="project.properties"
			comment="This file is automatically generated - DO NOT EDIT">
			<entry key="buildtime" value="${builtat}" />
			<entry key="builder" value="${whoami}" />
			<entry key="version" value="${version}" />
			<entry key="system" value="${os.name}" />
			<entry key="systemVersion" value="${os.version}" />
		</propertyfile>
	</target>

</project>
