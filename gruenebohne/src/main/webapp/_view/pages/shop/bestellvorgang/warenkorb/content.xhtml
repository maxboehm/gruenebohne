<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://ocpsoft.com/prettyfaces"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition>



	<div class="woocommerce  push-down-30">
		<div class="container">
			<div class="row">
				<div class="col-xs-12  push-down-30">
					<h3>Warenkorb</h3>
					<hr />
					<table class="shop-table  shop-cart">
						<thead>
							<tr class="cart_table_title">
								<th class="product-remove"></th>
								<th class="product-thumbnail"></th>
								<th class="product-name">Produkt</th>
								<th class="product-price">Preis</th>
								<th class="product-quantity">Anzahl</th>
								<th class="product-subtotal">Total</th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat var="basketItem"
								value="#{basket.currentBasket.getSetRecordItems()}">
								<h:form>
									<tr class="cart_table_item">
										<td class="product-remove"><h:commandLink
												styleClass="glyphicon  glyphicon-remove"
												actionListener="#{basket.performDelete}">
												<f:param value="#{basketItem.productBase.prodId}"
													name="prodId" />
											</h:commandLink></td>
										<td class="product-thumbnail"><h:graphicImage
												library="content" name="images/dummy/product-cart.jpg"
												alt="dummy" /></td>
										<td class="product-name"><p:link
												mappingId="produkte-detail">#{basketItem.productBase.prodName}
												<f:param value="#{basketItem.productBase.prodId}" />
											</p:link></td>
										<td class="product-price">EUR<h:outputText escape="false"
												value="&amp;nbsp;" />#{basketItem.productBase.price}
										</td>
										<td class="product-quantity">
											<div class="quantity  js--quantity">
												<f:param name="product"
													value="#{basketItem.productBase.prodId}"></f:param>
												<h:commandButton type="submit" value="-"
													class="quantity__button  js--minus-one  js--clickable"
													actionListener="#{basket.setQuantity}">
													<f:param name="productQuantity"
														value="#{basketItem.quantity-1}"></f:param>
													<f:param name="productId"
														value="#{basketItem.productBase.prodId}"></f:param>
												</h:commandButton>
												<h:inputText readonly="true" type="text" name="quantity"
													value="#{basketItem.quantity}" class="quantity__input" />
												<h:commandButton type="submit" value="+"
													class="quantity__button  js--plus-one  js--clickable"
													actionListener="#{basket.setQuantity}">
													<f:param name="productQuantity"
														value="#{basketItem.quantity+1}"></f:param>
													<f:param name="productId"
														value="#{basketItem.productBase.prodId}"></f:param>
												</h:commandButton>
											</div>
										</td>
										<td class="product-subtotal">EUR<h:outputText
												escape="false" value="&amp;nbsp;" /> <h:outputText
												value="#{basketItem.productBase.price*basketItem.quantity}">
												<f:convertNumber minFractionDigits="2" locale="de"></f:convertNumber>
											</h:outputText>
										</td>
									</tr>
								</h:form>
							</ui:repeat>
							<tr class="cart_table_action">
								<td colspan="6" class="actions">
									<div class="col-xs-6"></div>
									<div class="col-xs-6">
										<c:if test="#{usersession.isLoggedin==false}">
											<a class="btn  btn-primary  pull-right" href="#loginModal"
												role="button" data-toggle="modal">Bestellvorgang
												fortsetzen</a>
										</c:if>
										<c:if test="#{usersession.isLoggedin==true}">
											<p:link styleClass="btn  btn-primary  pull-right"
												mappingId="adresse">Bestellvorgang fortsetzen</p:link>
										</c:if>
										<p:link styleClass="btn  btn-warning  pull-right"
											mappingId="warenkorb">Warenkorb aktualisieren</p:link>
									</div>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="col-xs-12 col-sm-6"></div>
				<div class="col-xs-12 col-sm-6">
					<!-- Your order - table -->
					<h3 class="pull-right">
						<span class="light">Warenkorb</span>-Zusammenfassung
					</h3>
					<table class="shop_table  push-down-30">
						<tfoot>
							<tr class="cart-subtotal">
								<th>Gesamtpreis Warenkorb</th>
								<td><span class="amount">EUR<h:outputText
											escape="false" value="&amp;nbsp;" />#{basket.getTotalPrice()}
								</span></td>
							</tr>
							<tr class="shipping">
								<th>Versand</th>
								<td>Gratisversand</td>
							</tr>
							<tr class="total">
								<th><strong>Gesamtpreis Bestellung</strong></th>
								<td><strong><span class="amount">EUR<h:outputText
												escape="false" value="&amp;nbsp;" />#{basket.getTotalPrice()}
									</span></strong></td>
							</tr>
						</tfoot>
					</table>
				</div>
			</div>
			<hr class="divider" />
		</div>
	</div>

</ui:composition>
</html>
